var birds=[{top:-3,left:0},{top:-1,left:-2.5},{top:-2,left:-7.2},{top:0,left:-12}];var monkeys=[{top:0,left:0},{top:0,left:-1.25},{top:0,left:-2.5},{top:0,left:-3.75},{top:0,left:-5},{top:0,left:-6.25},{top:0,left:-7.5},{top:0,left:-8.75},{top:0,left:-10}];var isMouseDown=false;var lastLoc={x:0,y:0};var lastTimestamp=0;var speed=[];$(function(){var c=$("#monkey");var b=$("#bird");var a=c.find("img")[0];var d=b.find("img")[0];console.log($("#select_box").find(".active"));chooseNum();updatePic(d,birds,200);updatePic(a,monkeys,500)});function updatePic(e,b,c){clearInterval(e.timer);var a=b.length;var d=0;e.timer=setInterval(function(){$(e).css({top:b[d].top+"rem",left:b[d].left+"rem"});d++;if(d>=a){d=0}},c)}function chooseNum(){document.querySelector("body").addEventListener("touchmove",function(a){a.preventDefault()});document.addEventListener("touchstart",function(a){touch=a.touches[0];beginTouch({x:touch.pageX,y:touch.pageY})});document.addEventListener("touchmove",function(a){if(isMouseDown){touch=a.touches[0];moveTouch({x:touch.pageX,y:touch.pageY})}});document.addEventListener("touchend",function(a){endTouch()});document.onmousedown=function(a){a.preventDefault();beginTouch({x:a.clientX,y:a.clientY})};document.onmouseup=function(a){endTouch()};document.onmousemove=function(a){if(isMouseDown){moveTouch({x:a.clientX,y:a.clientY})}}}function beginTouch(a){isMouseDown=true;speed=[];lastLoc=a;lastTimestamp=new Date().getTime()}function endTouch(){isMouseDown=false;if(speed.length>4){moveNum()}}function moveTouch(a){var c=a;var e=new Date().getTime();var d=dis(c,lastLoc);var b=e-lastTimestamp;speed.push(calSpeed(b,d));lastLoc=c;lastTimestamp=e}function moveNum(){var a=Math.floor((speed.reduce(function(h,g,f,e){return h+g}))/speed.length);if(a>0){console.log("meanSpeed: "+a);if(a>=36){a-=24}else{if(a>=24){a-=12}}var d=$("#select_box");var c=d.find("li");var b=0;setTimeout(function(){var e=b%12;c.eq(e).addClass("active").siblings().removeClass("active");b++;if(b<a){setTimeout(arguments.callee,100)}},50)}}function calSpeed(d,e){var g=100;var f=1;var h=10;var b=0.1;var a=e/d;var c=0;if(a<=b){c=f}else{if(a>=h){c=g}else{c=Math.floor((a-b)/(h-b)*(g-f))}}return c}function dis(b,a){return Math.sqrt((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y))};