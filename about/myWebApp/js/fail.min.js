var birds=[{top:-3,left:0},{top:-1,left:-2.5},{top:-2,left:-7.2},{top:0,left:-12}];var monkeys=[{top:0,left:0},{top:0,left:-1.25},{top:0,left:-2.5},{top:0,left:-3.75},{top:0,left:-5},{top:0,left:-6.25},{top:0,left:-7.5},{top:0,left:-8.75},{top:0,left:-10}];var words=[{info:"表白",lineHeight:12,fontSize:1.55},{info:"谈过几次恋爱",lineHeight:12,fontSize:1.55},{info:"你第一个喜欢的异性叫什么名字",lineHeight:4,fontSize:1.55},{info:"最害怕的事情或者东西（说出三件）",lineHeight:4,fontSize:1.55},{info:"打算什么时候结婚",lineHeight:6,fontSize:1.55},{info:"会不会在意ta的过去",lineHeight:6,fontSize:1.55},{info:"结婚后想生男孩还是女孩（说出原因）",lineHeight:4,fontSize:1.55},{info:"做过最丢脸的事情",lineHeight:6,fontSize:1.55},{info:"做自己最性感、最妩媚的表情或动作",lineHeight:4,fontSize:1.55}];var images=[{src:"../img/change_0.jpg"},{src:"../img/change_2.jpg"},{src:"../img/change_3.jpg"}];$(function(){var e=$("#monkey");var b=$("#bird");var g=$("#poker_box");var a=e.find("img")[0];var f=b.find("img")[0];var d=g.find(".poker_wrap")[0];var c=e.find(".monkey_box")[0];var h=b.find(".bird_box")[0];document.querySelector("body").addEventListener("touchmove",function(i){i.preventDefault()});updatePic(f,birds,200);updatePic(a,monkeys,500);clickPic(d)});function updatePic(e,b,c){clearInterval(e.timer);var a=b.length;var d=0;e.timer=setInterval(function(){$(e).css({top:b[d].top+"rem",left:b[d].left+"rem"});d++;if(d>=a){d=0}},c)}function clickPic(a){$(a).bind("click",function(g){var k=g||window.event;var h=k.target||k.srcElement;var d=$(h).parents(".poker");if(d.length>0){d.siblings().css("display","none");d.text("");var c=d.parent();var j=[0,1,2,3,4,5,6,7,8];j.sort(function(i,e){return Math.random()-0.5});for(var f=0;f<j.length;f++){var b=getMyElementsByClassName(c[0],"poker");b[f].index=f}var l=j[d[0].index];d.css({width:12+"rem",height:12+"rem","background-color":"#bff",transition:"0.5s",border:"2px solid #ccc","border-radius":"10px",top:0,left:0,zIndex:999,"line-height":words[l].lineHeight+"rem","font-size":words[l].fontSize+"rem"});setTimeout(function(){console.log(words[l]);d.text(words[l].info);d.css({"-webkit-transform":"rotateY(360deg)",transition:"1s","-webkit-transform-origin":"center center 0"})},800);setTimeout(function(){d.css({width:4+"rem",height:4+"rem",top:Math.floor(d[0].index/3)*4+"rem",left:(d[0].index%3)*4+"rem","background-color":"#bff",transition:"0.5s",border:"2px solid #ccc","border-radius":"10px",zIndex:999,"line-height":words[l].lineHeight/3+"rem","font-size":words[l].fontSize/3+"rem"});for(var e=0;e<9;e++){if(e!=d[0].index){$(b[e]).css({display:"block","background-color":"#87cefa",border:"2px solid #ccc","border-radius":"10px","line-height":words[j[e]].lineHeight/3+"rem","font-size":words[j[e]].fontSize/3+"rem"});$(b[e]).text(words[j[e]].info)}}},2000);$(a).unbind("click");d.bind("click",function(e){window.location.href="fail.html"})}})}function getMyElementsByClassName(f,e){var d=new RegExp("\\b"+e+"\\b");if(f.getElementsByClassName){return f.getElementsByClassName(e)}else{var c=[];var a=f.getElementsByTagName("*");for(var b=0;b<a.length;b++){if(d.test(a[b].className)){c.push(a[b])}}return c}};